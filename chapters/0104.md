
# JavaScript

## 代码风格

- switch 下的 case 和 default 必须增加一个缩进层级。
- 二元运算符两侧必须有一个空格，一元运算符与操作对象之间不允许有空格。
- 用作代码块起始的左花括号 { 前必须有一个空格。
- if / else / for / while / function / switch / do / try / catch / finally 关键字后，必须有一个空格。
-  在对象创建时，属性中的 : 之后必须有空格，: 之前不允许有空格。
- 函数声明、具名函数表达式、函数调用中，函数名和 ( 之间不允许有空格。
- , 和 ; 前不允许有空格。如果不位于行尾，, 和 ; 后必须跟一个空格。
- 在函数调用、函数声明、括号表达式、属性访问、if / for / while / switch / catch 等语句中，() 和 [] 内紧贴括号部分不允许有空格。
- 单行声明的数组与对象，如果包含元素，{} 和 [] 内紧贴括号部分不允许包含空格。
- 行尾不得有多余的空格

## 换行

- 每个独立语句结束后必须换行。
- 运算符处换行时，运算符必须在新行的行首。
- 在函数声明、函数表达式、函数调用、对象创建、数组创建、for 语句等场景中，不允许在 , 或 ; 前换行。
- 在语句的行长度超过 120 时，根据逻辑条件合理缩进。


## 语句

- 不得省略语句结束的分号。
- 在 if / else / for / do / while 语句中，即使只有一行，也不得省略块 {...}。

## 命名
 
- 变量 使用 Camel命名法。
- 常量 使用 全部字母大写，单词间下划线分隔 的命名方式。
- 函数 使用 Camel命名法。
- 函数的 参数 使用 Camel命名法。
- 类 使用 Pascal命名法。
- 类的 方法 / 属性 使用 Camel命名法。
- 枚举变量 使用 Pascal命名法，枚举的属性 使用 全部字母大写，单词间下划线分隔 的命名方式。
- 命名空间 使用 Camel命名法。
- 由多个单词组成的缩写词，在命名中，根据当前命名法和出现的位置，所有字母的大小写与首字母的大小写保持一致。
- 类名 使用 名词。
- 函数名 使用 动宾短语。

## 注释

### 单行注释 

- 必须独占一行。// 后跟一个空格，缩进与下一行被注释说明的代码一致。

### 文件注释

- 文件顶部必须包含文件注释，用@description标识文件说明、用@author标识开发者信息等。

解释：

开发者信息能够体现开发人员对文件的贡献，并且能够让遇到问题或希望了解相关信息的人找到维护人。通常情况文件在被创建时标识的是创建者。随着项目的进展，越来越多的人加入，参与这个文件的开发，新的作者应该被加入 @author 标识。

@author 标识具有多人时，原则是按照 责任 进行排序。通常的说就是如果有问题，就是找第一个人应该比找第二个人有效。比如文件的创建者由于各种原因，模块移交给了其他人或其他团队，后来因为新增需求，其他人在新增代码时，添加 @author 标识应该把自己的名字添加在创建人的前面。

@author 中的名字不允许被删除。任何劳动成果都应该被尊重。

业务项目中，一个文件可能被多人频繁修改，并且每个人的维护时间都可能不会很长，不建议为文件增加 @author 标识。通过版本控制系统追踪变更，按业务逻辑单元确定模块的维护责任人，通过文档跟踪和查询，是更好的责任管理方式。

对于业务逻辑无关的技术型基础项目，特别是开源的公共项目，应使用 @author 标识。

### 函数/方法注释

- 函数/方法注释必须包含函数说明，有参数和返回值时必须使用注释标识。
- 参数和返回值注释必须包含类型信息，且不允许省略参数的说明。

### 细节注释

- 有时我们会使用一些特殊标记进行说明。特殊标记必须使用单行注释的形式。

常用标记：

1. TODO: 有功能待实现。此时需要对将要实现的功能进行简单说明。
2. FIXME: 该处代码运行没问题，但可能由于时间赶或者其他原因，需要修正。此时需要对如何修正进行简单说明。
3. HACK: 为修正某些问题而写的不太好或者使用了某些诡异手段的代码。此时需要对思路或诡异手段进行描述。
4. XXX: 该处存在陷阱。此时需要对陷阱进行描述。

## 语言特性

- 变量、函数在使用前必须先定义。
- 每个 var 只能声明一个变量。
- 变量必须 **即用即声明**，不得在函数或其它形式的代码块起始位置统一声明所有变量。
- 在 Equality Expression 中使用类型严格的 ===。仅当判断 null 或 undefined 时，允许使用 == null。
- 使用对象字面量 {} 创建新 Object。
- 不允许修改和扩展任何原生对象和宿主对象的原型。
- 使用数组字面量 [] 创建新数组，除非想要创建的是指定长度的数组。
- 字符串全部使用单引号